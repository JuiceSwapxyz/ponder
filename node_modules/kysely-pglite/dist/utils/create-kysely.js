import { isObject, isString } from '@sindresorhus/is';
import fs from 'fs-extra';
import { Kysely } from 'kysely';
import { KyselyPGlite } from '../kysely-pglite.js';
export function ensureDataDirExist(dataDir) {
    let path;
    if (isString(dataDir)) {
        path = dataDir;
    }
    if (isObject(dataDir) && dataDir.dataDir) {
        path = dataDir.dataDir;
    }
    if (path) {
        fs.ensureDir(path);
    }
}
export async function createKyselyPGlite(dataDir) {
    const { dialect } = new KyselyPGlite({ dataDir });
    const db = new Kysely({ dialect });
    return { db, dialect };
}
//# sourceMappingURL=create-kysely.js.map